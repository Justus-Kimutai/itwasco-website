---
import { services } from "../../data/services";
import { Droplets, Waves, Building2, ShieldCheck } from "lucide-react";

const iconMap = {
  Droplets,
  Waves,
  Building2,
  ShieldCheck,
};
---

<section class="py-16 sm:py-24">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="text-center">
      <span class="inline-flex items-center rounded-full bg-primary-50 px-4 py-1.5 text-sm font-medium text-primary-600">
        What We Offer
      </span>
      <h2 class="mt-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">
        Our Services
      </h2>
      <p class="mx-auto mt-4 max-w-2xl text-lg text-gray-600">
        Comprehensive water and sanitation services designed to meet the needs of every household and business in our service area.
      </p>
    </div>

    <div class="mt-12 grid gap-8 sm:grid-cols-2 lg:grid-cols-3 lg:max-w-5xl lg:mx-auto">
      {services.map((service) => {
        const Icon = iconMap[service.icon as keyof typeof iconMap];
        return (
          <div class="group relative rounded-2xl border border-gray-100 bg-white p-6 transition-all hover:border-primary-100 hover:shadow-lg">
            <!-- Icon -->
            <div class="flex h-12 w-12 items-center justify-center rounded-xl bg-primary-50 text-primary-600 transition-colors group-hover:bg-primary-100">
              <Icon className="h-6 w-6" />
            </div>

            <!-- Content -->
            <h3 class="mt-4 text-lg font-semibold text-gray-900">
              {service.title}
            </h3>
            <p class="mt-2 text-sm text-gray-600">
              {service.description}
            </p>

            <!-- Features -->
            <ul class="mt-4 space-y-2">
              {service.features.slice(0, 3).map((feature) => (
                <li class="flex items-center text-sm text-gray-500">
                  <svg class="mr-2 h-4 w-4 text-secondary-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                  {feature}
                </li>
              ))}
            </ul>

            <!-- Link -->
            <a
              href={`/services#${service.id}`}
              class="mt-6 inline-flex items-center text-sm font-medium text-primary-600 transition-colors hover:text-primary-700"
            >
              Learn more
              <svg class="ml-1 h-4 w-4 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </a>
          </div>
        );
      })}
    </div>

    <div class="mt-12 text-center">
      <a
        href="/services"
        class="inline-flex items-center justify-center rounded-lg bg-primary-500 px-6 py-3 text-base font-medium text-white shadow-sm transition-all hover:bg-primary-600 hover:shadow-md"
      >
        View All Services
      </a>
    </div>
  </div>
</section>
