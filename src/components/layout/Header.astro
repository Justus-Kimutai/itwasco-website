---
import { navigationLinks } from "../../data/navigation";
import MobileMenu from "./MobileMenu";

const currentPath = Astro.url.pathname;
---

<header class="sticky top-0 z-50 w-full border-b border-gray-100 bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/80">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="relative flex min-h-16 items-center justify-between py-3">
      <!-- Logo (far left) -->
      <a href="/" class="flex items-center gap-2">
        <img
          src="/images/logo/itwasco-logo.png"
          alt="ITWASCO Logo"
          width="48"
          height="48"
          class="h-10 w-auto sm:h-12"
        />
        <!-- Text next to logo on desktop only -->
        <div class="hidden flex-col md:flex">
          <span class="text-lg font-bold leading-tight text-primary-600">ITWASCO</span>
          <span class="text-xs leading-tight text-gray-500">Water For All</span>
        </div>
      </a>

      <!-- Centered text on mobile only -->
      <div class="absolute left-1/2 -translate-x-1/2 flex-col text-center md:hidden">
        <span class="text-base font-bold leading-tight text-primary-600">ITWASCO</span>
        <span class="block text-[10px] leading-tight text-gray-500">Water For All</span>
      </div>

      <!-- Desktop Navigation -->
      <nav class="hidden md:flex md:items-center md:gap-1">
        {navigationLinks.map((link) => (
          <a
            href={link.href}
            class:list={[
              "rounded-lg px-4 py-2 text-sm font-medium transition-colors",
              currentPath === link.href
                ? "bg-primary-50 text-primary-600"
                : "text-gray-600 hover:bg-gray-50 hover:text-gray-900",
            ]}
          >
            {link.name}
          </a>
        ))}
      </nav>

      <!-- CTA Button (Desktop) -->
      <div class="hidden md:block">
        <a
          href="/contact"
          class="inline-flex items-center justify-center rounded-lg bg-primary-500 px-5 py-2.5 text-sm font-medium text-white shadow-sm transition-all hover:bg-primary-600 hover:shadow-md"
        >
          Get Connected
        </a>
      </div>

      <!-- Mobile Menu (positioned absolute on mobile) -->
      <div class="absolute right-4 md:hidden">
        <MobileMenu client:load currentPath={currentPath} />
      </div>
    </div>
  </div>
</header>
